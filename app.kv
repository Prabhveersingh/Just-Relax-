ScreenManager:
    MainMenuScreen:
    MoodScreen:
    JournalScreen:
    BreathingScreen:
    TipsScreen:
    GameMenuScreen:
    ProgressScreen:

<MainMenuScreen>:
    name: "main_menu"
    MDBoxLayout:
        orientation: "vertical"
        spacing: dp(15)
        padding: dp(20)

        MDLabel:
            text: "Mental Wellness App"
            halign: "center"
            font_style: "H4"

        MDRaisedButton:
            text: "Mood Check"
            md_bg_color: 0.2, 0.6, 0.2, 1
            on_release: app.root.current = "mood"

        MDRaisedButton:
            text: "Journal with AI"
            md_bg_color: 0.1, 0.5, 0.7, 1
            on_release: app.root.current = "journal"

        MDRaisedButton:
            text: "Breathing Exercise"
            md_bg_color: 0.9, 0.5, 0.2, 1
            on_release: app.root.current = "breathing"

        MDRaisedButton:
            text: "Tips for Today"
            md_bg_color: 0.8, 0.3, 0.5, 1
            on_release: app.root.current = "tips"

        MDRaisedButton:
            text: "Games"
            md_bg_color: 0.6, 0.2, 0.7, 1
            on_release: app.root.current = "game_menu"

        MDRaisedButton:
            text: "View Progress"
            md_bg_color: 0.3, 0.7, 0.9, 1
            on_release: app.root.current = "progress"


<MoodScreen>:
    name: "mood"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        MDTextField:
            id: mood_input
            hint_text: "How do you feel today?"
            multiline: True

        MDRaisedButton:
            text: "Analyze Mood"
            md_bg_color: 0.2, 0.6, 0.2, 1
            on_release:
                result.text = app.analyze_mood(mood_input.text)

        MDLabel:
            id: result
            text: ""
            halign: "center"

        MDRaisedButton:
            text: "Back"
            md_bg_color: 0.6, 0.2, 0.7, 1
            on_release: app.root.current = "main_menu"


<JournalScreen>:
    name: "journal"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        MDTextField:
            id: journal_text
            hint_text: "Write your thoughts..."
            multiline: True

        MDRaisedButton:
            text: "Analyze Journal"
            md_bg_color: 0.1, 0.5, 0.7, 1
            on_release:
                journal_result.text = app.analyze_journal(journal_text.text)

        MDLabel:
            id: journal_result
            text: ""
            halign: "center"

        MDRaisedButton:
            text: "Back"
            md_bg_color: 0.6, 0.2, 0.7, 1
            on_release: app.root.current = "main_menu"


<BreathingScreen>:
    name: "breathing"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)

        MDLabel:
            text: "Take a Deep Breath"
            halign: "center"
            font_style: "H5"

        MDLabel:
            id: inhale_exhale
            text: "Ready?"
            halign: "center"
            font_style: "H4"

        MDRaisedButton:
            text: "Start Exercise"
            md_bg_color: 0.9, 0.5, 0.2, 1
            on_release: app.start_breathing(inhale_exhale)

        MDRaisedButton:
            text: "Back"
            md_bg_color: 0.6, 0.2, 0.7, 1
            on_release: app.root.current = "main_menu"


<TipsScreen>:
    name: "tips"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)

        MDLabel:
            text: "Today's Wellness Tip:"
            halign: "center"

        MDLabel:
            text: "• Drink water\n• Go for a 10-minute walk\n• Take deep breaths"
            halign: "center"

        MDRaisedButton:
            text: "Back"
            md_bg_color: 0.6, 0.2, 0.7, 1
            on_release: app.root.current = "main_menu"


<GameMenuScreen>:
    name: "game_menu"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(15)

        MDLabel:
            text: "Choose a Game"
            halign: "center"
            font_style: "H5"

        MDRaisedButton:
            text: "Color Game"
            md_bg_color: 0.2, 0.6, 0.2, 1
            on_release: app.start_color_game(game_layout)

        MDRaisedButton:
            text: "Memory Puzzle"
            md_bg_color: 0.1, 0.5, 0.7, 1
            on_release: app.start_memory_game(game_layout)

        BoxLayout:
            id: game_layout
            orientation: "vertical"

        MDRaisedButton:
            text: "Back"
            md_bg_color: 0.6, 0.2, 0.7, 1
            on_release: app.root.current = "main_menu"


<ProgressScreen>:
    name: "progress"
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(20)

        MDLabel:
            text: "Your Wellness Progress"
            halign: "center"
            font_style: "H5"

        MDLabel:
            text: "Mood Check Days"
            halign: "center"

        MDProgressBar:
            id: mood_bar
            value: 0
            max: 30

        MDLabel:
            text: "Journal Entries Days"
            halign: "center"

        MDProgressBar:
            id: journal_bar
            value: 0
            max: 30

        MDRaisedButton:
            text: "Update Progress"
            md_bg_color: 0.2, 0.6, 0.2, 1
            on_release:
                mood_bar.value = app.get_mood_count()
                journal_bar.value = app.get_journal_count()

        MDRaisedButton:
            text: "Back"
            md_bg_color: 0.6, 0.2, 0.7, 1
            on_release: app.root.current = "main_menu"
